sap.ui.define(["tcs/hr/hire/controller/BaseController","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,i,n,p,s){"use strict";return e.extend("tcs.hr.hire.controller.View2",{onInit:function(){this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("detail").attachMatched(this.herculis.bind(this))},cityPopup:null,supplierPopup:null,fieldObject:null,onF4:function(e){this.fieldObject=e.getSource();if(!this.cityPopup){n.load({id:"city",name:"tcs.hr.hire.fragments.popup",controller:this}).then(function(e){this.cityPopup=e;this.cityPopup.bindAggregation("items",{path:"/cities",template:new sap.m.DisplayListItem({label:"{name}",value:"{state}"})});this.cityPopup.setTitle("Cities");this.getView().addDependent(this.cityPopup);this.cityPopup.open()}.bind(this))}else{this.cityPopup.open()}},onFilter:function(){if(!this.supplierPopup){n.load({id:"supplier",name:"tcs.hr.hire.fragments.popup",controller:this}).then(function(e){this.supplierPopup=e;this.supplierPopup.setTitle("Select Supplier to Filter");this.supplierPopup.bindAggregation("items",{path:"/supplier",template:new sap.m.StandardListItem({icon:"sap-icon://supplier",description:"Since {sinceWhen} in {city}",title:"{name}"})});this.getView().addDependent(this.supplierPopup);this.supplierPopup.open()}.bind(this))}else{this.supplierPopup.open()}},onConfirm:function(e){var t=e.getParameter("selectedItem");if(e.getSource().getId().indexOf("supplier")!==-1){var i=t.getTitle();var n=new p("name",s.EQ,i);var r=this.getView().byId("mobileTable");r.getBinding("items").filter(n)}else{var o=t.getLabel();this.fieldObject.setValue(o)}},onSave:function(){var e=this.getView().getModel("i18n").getResourceBundle();var n=e.getText("XMSG_CONFIRM");var p=this.getView().getModel().getProperty(this.path).name;var s=e.getText("XMSG_SAVED",[p]);var r=e.getText("XMSG_CANCEL");t.confirm(n,{onClose:function(e){if(e==="OK"){i.show(s)}else{t.error(r)}}})},onCancel:function(){t.error(XMSG_CANCEL)},herculis:function(e){debugger;var t=e.getParameter("arguments").contra;var i="/"+t;var n=i+"/$value";n=n.replace("ProductSet","ProductImgSet");this.getView().byId("idImage").setSrc("/sap/opu/odata/sap/ZJULY_2021_SRV"+n);this.path=i;this.getView().bindElement(i,{expand:"To_Supplier"})},onBack:function(){this.getView().getParent().getParent().to("idEmpty")}})});